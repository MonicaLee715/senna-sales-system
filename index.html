<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çœ¼é•œé”€å”®ç®¡ç†ç³»ç»Ÿ - å®Œæ•´ç‰ˆ</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f7; color: #1d1d1f; line-height: 1.6; padding: 0; }
        
        /* App å¸ƒå±€ */
        #app { max-width: 100%; min-height: 100vh; display: flex; flex-direction: column; }
        
        /* é¡¶éƒ¨æ ‡é¢˜æ  */
        .header { background: white; padding: 15px 20px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); position: sticky; top: 0; z-index: 100; }
        .header h1 { font-size: 1.3rem; color: #333; }
        
        /* å†…å®¹åŒºåŸŸ */
        .content { flex: 1; padding: 20px; padding-bottom: 80px; }
        
        /* å¡ç‰‡æ ·å¼ */
        .card { background: white; padding: 20px; margin-bottom: 15px; border-radius: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        
        /* è¡¨å•æ ·å¼ */
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 8px; font-weight: 600; color: #555; }
        input, select, button, textarea { width: 100%; padding: 12px 15px; border: 1px solid #ddd; border-radius: 10px; font-size: 16px; }
        button { background: #007aff; color: white; border: none; font-weight: 600; cursor: pointer; }
        button:active { background: #0056cc; }
        button.secondary { background: #8e8e93; }
        button.success { background: #34c759; }
        button.danger { background: #ff3b30; }
        
        /* åº•éƒ¨å¯¼èˆª */
        .tab-bar { position: fixed; bottom: 0; left: 0; right: 0; background: white; display: flex; padding: 10px 0; box-shadow: 0 -2px 10px rgba(0,0,0,0.1); }
        .tab-item { flex: 1; text-align: center; padding: 10px; color: #8e8e93; cursor: pointer; }
        .tab-item.active { color: #007aff; }
        
        /* é¡µé¢åˆ‡æ¢ */
        .page { display: none; }
        .page.active { display: block; }
        
        /* äº§å“å‹å·åˆ†ç»„ */
        .model-group { margin-bottom: 20px; border: 1px solid #e0e0e0; border-radius: 10px; overflow: hidden; }
        .model-header { background: #f8f9fa; padding: 15px; font-weight: 600; cursor: pointer; display: flex; justify-content: space-between; align-items: center; }
        .model-variants { background: white; }
        .variant-item { padding: 12px 15px; border-bottom: 1px solid #f0f0f0; display: flex; justify-content: space-between; align-items: center; }
        .variant-item:last-child { border-bottom: none; }
        .variant-info { flex: 1; }
        .variant-actions { display: flex; gap: 8px; }
        .variant-actions button { padding: 6px 12px; font-size: 0.8rem; width: auto; }
        
        /* é¢œè‰²è§„æ ¼æ·»åŠ æ ·å¼ */
        .color-variant-item {
            margin-bottom: 15px;
            padding: 15px;
            border: 1px dashed #ddd;
            border-radius: 8px;
            background: #fafafa;
        }
        .color-variant-item label {
            font-size: 0.9rem;
            font-weight: 600;
            color: #555;
            margin-bottom: 5px;
        }
        .remove-color {
            background: #ff3b30;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            width: auto;
            padding: 10px 15px;
        }
        
        /* åº“å­˜æ“ä½œè¡¨æ ¼ */
        .inventory-table { width: 100%; border-collapse: collapse; margin: 15px 0; }
        .inventory-table th, .inventory-table td { border: 1px solid #ddd; padding: 10px; text-align: left; }
        .inventory-table th { background: #f8f8f8; }
        .inventory-input { width: 70px; padding: 5px; text-align: center; }
        
        /* éšè—ç±» */
        .hidden { display: none; }
        
        /* çŠ¶æ€æ ‡ç­¾ */
        .stock-badge { background: #34c759; color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.8rem; }
        .price-badge { background: #007aff; color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.8rem; }
    </style>
</head>
<body>
    <div id="app">
        <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
        <div class="header">
            <h1 id="pageTitle">é”€å”®å¼€å•</h1>
        </div>
        
        <!-- å†…å®¹åŒºåŸŸ -->
        <div class="content">
            <!-- é¦–é¡µï¼šé”€å”®å¼€å• -->
            <div id="page-home" class="page active">
                <div class="card">
                    <div class="form-group">
                        <label for="customerSelect">é€‰æ‹©å®¢æˆ·</label>
                        <select id="customerSelect">
                            <option value="">-- è¯·é€‰æ‹©å®¢æˆ· --</option>
                            <option value="C001">å¼ ä¸‰</option>
                            <option value="C002">æå››</option>
                            <option value="C003">ç‹äº”</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="modelSelect">é€‰æ‹©äº§å“å‹å·</label>
                        <select id="modelSelect">
                            <option value="">-- è¯·å…ˆé€‰æ‹©å‹å· --</option>
                            <option value="M001">GQF-PU9048 é‡‘å±çŒ«çœ¼</option>
                            <option value="M002">ABC-123 æ—¶å°šå…‰å­¦æ¶</option>
                            <option value="M003">XYZ-456 ç»å…¸å•†åŠ¡æ¬¾</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="variantSelect">é€‰æ‹©é¢œè‰²è§„æ ¼</label>
                        <select id="variantSelect">
                            <option value="">-- è¯·å…ˆé€‰æ‹©å‹å· --</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="priceDisplay">å•ä»· (å…ƒ)</label>
                        <input type="text" id="priceDisplay" readonly placeholder="é€‰æ‹©é¢œè‰²åè‡ªåŠ¨æ˜¾ç¤º">
                    </div>
                    <div class="form-group">
                        <label for="stockDisplay">å½“å‰åº“å­˜</label>
                        <input type="text" id="stockDisplay" readonly placeholder="é€‰æ‹©é¢œè‰²åè‡ªåŠ¨æ˜¾ç¤º">
                    </div>
                    <div class="form-group">
                        <label for="quantity">é”€å”®æ•°é‡</label>
                        <input type="number" id="quantity" value="1" min="1">
                    </div>
                    <button id="generateInvoice" class="success">ç”Ÿæˆé”€å”®å•</button>
                </div>
            </div>
            
            <!-- äº§å“ç®¡ç†é¡µ -->
            <div id="page-products" class="page">
                <div class="card">
                    <h3>äº§å“å‹å·ç®¡ç†</h3>
                    <div class="model-group">
                        <div class="model-header">
                            <span>GQF-PU9048 é‡‘å±çŒ«çœ¼</span>
                            <span>â–¶</span>
                        </div>
                        <div class="model-variants">
                            <div class="variant-item">
                                <div class="variant-info">
                                    <strong>ç™½æ°´é“¶</strong>
                                    <div style="margin-top: 5px;">
                                        <span class="price-badge">150 å…ƒ</span>
                                        <span class="stock-badge">åº“å­˜: 5</span>
                                    </div>
                                </div>
                                <div class="variant-actions">
                                    <button class="secondary">ç¼–è¾‘</button>
                                    <button class="danger">åˆ é™¤</button>
                                </div>
                            </div>
                            <div class="variant-item">
                                <div class="variant-info">
                                    <strong>ç´«æ°´é“¶</strong>
                                    <div style="margin-top: 5px;">
                                        <span class="price-badge">160 å…ƒ</span>
                                        <span class="stock-badge">åº“å­˜: 16</span>
                                    </div>
                                </div>
                                <div class="variant-actions">
                                    <button class="secondary">ç¼–è¾‘</button>
                                    <button class="danger">åˆ é™¤</button>
                                </div>
                            </div>
                            <div class="variant-item">
                                <div class="variant-info">
                                    <strong>ç°ç‰‡</strong>
                                    <div style="margin-top: 5px;">
                                        <span class="price-badge">140 å…ƒ</span>
                                        <span class="stock-badge">åº“å­˜: 9</span>
                                    </div>
                                </div>
                                <div class="variant-actions">
                                    <button class="secondary">ç¼–è¾‘</button>
                                    <button class="danger">åˆ é™¤</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="model-group">
                        <div class="model-header">
                            <span>ABC-123 æ—¶å°šå…‰å­¦æ¶</span>
                            <span>â–¶</span>
                        </div>
                        <div class="model-variants">
                            <div class="variant-item">
                                <div class="variant-info">
                                    <strong>è¿·é›¾è“</strong>
                                    <div style="margin-top: 5px;">
                                        <span class="price-badge">180 å…ƒ</span>
                                        <span class="stock-badge">åº“å­˜: 12</span>
                                    </div>
                                </div>
                                <div class="variant-actions">
                                    <button class="secondary">ç¼–è¾‘</button>
                                    <button class="danger">åˆ é™¤</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3>æ·»åŠ æ–°äº§å“/é¢œè‰²</h3>
                    <div class="form-group">
                        <label for="newModelName">äº§å“å‹å·</label>
                        <input type="text" id="newModelName" placeholder="ä¾‹å¦‚: GQF-PU9048">
                    </div>
                    
                    <!-- é¢œè‰²è§„æ ¼åˆ—è¡¨ -->
                    <div id="colorVariants">
                        <div class="color-variant-item">
                            <div style="display: grid; grid-template-columns: 2fr 1fr 1fr auto; gap: 10px; align-items: end;">
                                <div>
                                    <label>é¢œè‰²åç§°</label>
                                    <input type="text" placeholder="ä¾‹å¦‚: ç™½æ°´é“¶" style="margin-top: 5px;">
                                </div>
                                <div>
                                    <label>ä»·æ ¼(å…ƒ)</label>
                                    <input type="number" value="0" style="margin-top: 5px;">
                                </div>
                                <div>
                                    <label>åº“å­˜</label>
                                    <input type="number" value="0" style="margin-top: 5px;">
                                </div>
                                <div>
                                    <label>&nbsp;</label>
                                    <button class="danger remove-color" style="width: auto; padding: 10px; margin-top: 5px;">åˆ é™¤</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button id="addColorBtn" class="secondary" style="margin-bottom: 15px;">â• æ–°å¢é¢œè‰²è§„æ ¼</button>
                    <button class="success" id="saveProductBtn">ä¿å­˜äº§å“</button>
                </div>
            </div>
            
            <!-- å®¢æˆ·ç®¡ç†é¡µ -->
            <div id="page-customers" class="page">
                <div class="card">
                    <h3>å®¢æˆ·åˆ—è¡¨</h3>
                    <div class="list-item">
                        <strong>å¼ ä¸‰</strong>
                        <p>å®¢æˆ·ID: C001 | ä¸“å±é¢œè‰²è§„æ ¼: 3ä¸ª</p>
                        <div class="list-actions">
                            <button class="secondary">ç®¡ç†ä»·æ ¼</button>
                            <button class="secondary">ç¼–è¾‘</button>
                            <button class="danger">åˆ é™¤</button>
                        </div>
                    </div>
                    <div class="list-item">
                        <strong>æå››</strong>
                        <p>å®¢æˆ·ID: C002 | ä¸“å±é¢œè‰²è§„æ ¼: 1ä¸ª</p>
                        <div class="list-actions">
                            <button class="secondary">ç®¡ç†ä»·æ ¼</button>
                            <button class="secondary">ç¼–è¾‘</button>
                            <button class="danger">åˆ é™¤</button>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3>æ·»åŠ æ–°å®¢æˆ·</h3>
                    <div class="form-group">
                        <input type="text" id="newCustomerName" placeholder="å®¢æˆ·åç§°">
                    </div>
                    <button class="success">ä¿å­˜å®¢æˆ·</button>
                </div>
            </div>
            
            <!-- åº“å­˜ç®¡ç†é¡µ -->
            <div id="page-inventory" class="page">
                <div class="card">
                    <h3>åº“å­˜æ“ä½œ</h3>
                    <button class="success" onclick="showPage('scan-demo')">ğŸ“· æ‰«ç æ“ä½œ</button>
                    <button class="secondary" style="margin-top: 10px;">ğŸ“Š åº“å­˜æŠ¥è¡¨</button>
                </div>
                
                <div class="card">
                    <h3>åº“å­˜æ¦‚è§ˆ</h3>
                    <div class="model-group">
                        <div class="model-header">
                            <span>GQF-PU9048 é‡‘å±çŒ«çœ¼ - æ€»åº“å­˜: 30</span>
                            <span>â–¶</span>
                        </div>
                        <div class="model-variants">
                            <div class="variant-item">
                                <div class="variant-info">
                                    <strong>ç™½æ°´é“¶</strong>
                                    <span class="stock-badge">åº“å­˜: 5</span>
                                </div>
                            </div>
                            <div class="variant-item">
                                <div class="variant-info">
                                    <strong>ç´«æ°´é“¶</strong>
                                    <span class="stock-badge">åº“å­˜: 16</span>
                                </div>
                            </div>
                            <div class="variant-item">
                                <div class="variant-info">
                                    <strong>ç°ç‰‡</strong>
                                    <span class="stock-badge">åº“å­˜: 9</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- æ‰«ç æ¼”ç¤ºé¡µ -->
            <div id="page-scan-demo" class="page">
                <div class="card">
                    <h3>ğŸ“· æ‰«ç æ“ä½œæ¨¡æ‹Ÿ</h3>
                    <p>å‡è®¾æ‚¨æ‰«æäº† <strong>GQF-PU9048 é‡‘å±çŒ«çœ¼</strong> çš„äºŒç»´ç </p>
                    
                    <div style="background: #f0f8ff; padding: 15px; border-radius: 10px; margin: 15px 0;">
                        <h4>GQF-PU9048 é‡‘å±çŒ«çœ¼ - åº“å­˜è°ƒæ•´</h4>
                        <p>è¯·å¡«å†™å„é¢œè‰²çš„å˜æ›´æ•°é‡ï¼ˆæ­£æ•°è¡¨ç¤ºå…¥åº“ï¼Œè´Ÿæ•°è¡¨ç¤ºå‡ºåº“ï¼‰ï¼š</p>
                    </div>
                    
                    <table class="inventory-table">
                        <thead>
                            <tr>
                                <th>é¢œè‰²</th>
                                <th>å½“å‰åº“å­˜</th>
                                <th>å˜æ›´æ•°é‡</th>
                                <th>å¤‡æ³¨</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ç™½æ°´é“¶</td>
                                <td>5</td>
                                <td><input type="number" value="0" class="inventory-input"></td>
                                <td><input type="text" placeholder="å¦‚: é‡‡è´­å…¥åº“" style="padding: 5px; width: 100%;"></td>
                            </tr>
                            <tr>
                                <td>ç´«æ°´é“¶</td>
                                <td>16</td>
                                <td><input type="number" value="0" class="inventory-input"></td>
                                <td><input type="text" placeholder="å¦‚: é”€å”®å‡ºåº“" style="padding: 5px; width: 100%;"></td>
                            </tr>
                            <tr>
                                <td>ç°ç‰‡</td>
                                <td>9</td>
                                <td><input type="number" value="0" class="inventory-input"></td>
                                <td><input type="text" placeholder="å¦‚: ç›˜ç›ˆå…¥åº“" style="padding: 5px; width: 100%;"></td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <button class="success" style="margin-top: 15px;">âœ… æäº¤åº“å­˜å˜æ›´</button>
                    <button class="secondary" onclick="showPage('inventory')" style="margin-top: 10px;">â† è¿”å›åº“å­˜ç®¡ç†</button>
                </div>
            </div>
            
            <!-- é”€å”®è®°å½•é¡µ -->
            <div id="page-records" class="page">
                <div class="card">
                    <h3>é”€å”®è®°å½•</h3>
                    <div class="list-item">
                        <strong>å¼ ä¸‰ - GQF-PU9048 (ç™½æ°´é“¶)</strong>
                        <p>2024-07-15 | æ•°é‡: 2 | å•ä»·: 150å…ƒ | æ€»é‡‘é¢: 300å…ƒ</p>
                    </div>
                    <div class="list-item">
                        <strong>æå›› - GQF-PU9048 (ç´«æ°´é“¶)</strong>
                        <p>2024-07-14 | æ•°é‡: 1 | å•ä»·: 160å…ƒ | æ€»é‡‘é¢: 160å…ƒ</p>
                    </div>
                    <div class="list-item">
                        <strong>ç‹äº” - ABC-123 (è¿·é›¾è“)</strong>
                        <p>2024-07-13 | æ•°é‡: 3 | å•ä»·: 180å…ƒ | æ€»é‡‘é¢: 540å…ƒ</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3>æœˆåº¦æ±‡æ€»</h3>
                    <p>æœ¬æœˆæ€»é”€å”®é¢: <strong>1000 å…ƒ</strong></p>
                    <p>é”€å”®å•æ•°: <strong>3 ç¬”</strong></p>
                    <button class="secondary">ğŸ“ˆ æŸ¥çœ‹è¯¦ç»†æŠ¥è¡¨</button>
                </div>
            </div>
        </div>
        
        <!-- åº•éƒ¨å¯¼èˆªæ  -->
        <div class="tab-bar">
            <div class="tab-item active" onclick="showPage('home')">
                <div>ğŸ§¾</div>
                <span>å¼€å•</span>
            </div>
            <div class="tab-item" onclick="showPage('products')">
                <div>ğŸ“¦</div>
                <span>äº§å“</span>
            </div>
            <div class="tab-item" onclick="showPage('customers')">
                <div>ğŸ‘¥</div>
                <span>å®¢æˆ·</span>
            </div>
            <div class="tab-item" onclick="showPage('inventory')">
                <div>ğŸª</div>
                <span>åº“å­˜</span>
            </div>
            <div class="tab-item" onclick="showPage('records')">
                <div>ğŸ“‹</div>
                <span>è®°å½•</span>
            </div>
        </div>
    </div>

    <script>
        // æ¨¡æ‹Ÿæ•°æ® - å‹å·å’Œé¢œè‰²çš„å…³è”
        const modelVariants = {
            'M001': [
                { id: 'V001', color: 'ç™½æ°´é“¶', price: 150, stock: 5 },
                { id: 'V002', color: 'ç´«æ°´é“¶', price: 160, stock: 16 },
                { id: 'V003', color: 'ç°ç‰‡', price: 140, stock: 9 }
            ],
            'M002': [
                { id: 'V004', color: 'è¿·é›¾è“', price: 180, stock: 12 }
            ],
            'M003': [
                { id: 'V005', color: 'ç»å…¸é»‘', price: 200, stock: 8 },
                { id: 'V006', color: 'ç¥ç€æ£•', price: 210, stock: 6 }
            ]
        };

        // é¡µé¢åˆ‡æ¢å‡½æ•°
        function showPage(pageName) {
            // éšè—æ‰€æœ‰é¡µé¢
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // æ˜¾ç¤ºç›®æ ‡é¡µé¢
            document.getElementById(`page-${pageName}`).classList.add('active');
            
            // æ›´æ–°æ ‡é¢˜
            const titles = {
                'home': 'é”€å”®å¼€å•',
                'products': 'äº§å“ç®¡ç†',
                'customers': 'å®¢æˆ·ç®¡ç†',
                'records': 'é”€å”®è®°å½•',
                'inventory': 'åº“å­˜ç®¡ç†',
                'scan-demo': 'æ‰«ç æ“ä½œ'
            };
            document.getElementById('pageTitle').textContent = titles[pageName];
            
            // æ›´æ–°åº•éƒ¨å¯¼èˆªæ¿€æ´»çŠ¶æ€
            if (pageName !== 'scan-demo') {
                document.querySelectorAll('.tab-item').forEach(tab => {
                    tab.classList.remove('active');
                });
                // æ‰¾åˆ°å¯¹åº”çš„å¯¼èˆªé¡¹å¹¶æ¿€æ´»
                const tabIndex = ['home', 'products', 'customers', 'inventory', 'records'].indexOf(pageName);
                if (tabIndex !== -1) {
                    document.querySelectorAll('.tab-item')[tabIndex].classList.add('active');
                }
            }
        }

        // å‹å·é€‰æ‹©å˜åŒ–æ—¶æ›´æ–°é¢œè‰²é€‰é¡¹
        document.getElementById('modelSelect').addEventListener('change', function() {
            const variantSelect = document.getElementById('variantSelect');
            const modelId = this.value;
            
            // æ¸…ç©ºé¢œè‰²é€‰é¡¹
            variantSelect.innerHTML = '<option value="">-- è¯·é€‰æ‹©é¢œè‰² --</option>';
            document.getElementById('priceDisplay').value = '';
            document.getElementById('stockDisplay').value = '';
            
            if (modelId && modelVariants[modelId]) {
                // æ·»åŠ è¯¥å‹å·çš„æ‰€æœ‰é¢œè‰²é€‰é¡¹
                modelVariants[modelId].forEach(variant => {
                    const option = document.createElement('option');
                    option.value = variant.id;
                    option.textContent = `${variant.color} - ${variant.price}å…ƒ (åº“å­˜: ${variant.stock})`;
                    option.dataset.price = variant.price;
                    option.dataset.stock = variant.stock;
                    variantSelect.appendChild(option);
                });
            }
        });

        // é¢œè‰²é€‰æ‹©å˜åŒ–æ—¶æ˜¾ç¤ºä»·æ ¼å’Œåº“å­˜
        document.getElementById('variantSelect').addEventListener('change', function() {
            const selectedOption = this.options[this.selectedIndex];
            if (selectedOption.value) {
                document.getElementById('priceDisplay').value = selectedOption.dataset.price + ' å…ƒ';
                document.getElementById('stockDisplay').value = selectedOption.dataset.stock + ' ä¸ª';
            } else {
                document.getElementById('priceDisplay').value = '';
                document.getElementById('stockDisplay').value = '';
            }
        });

        // ç”Ÿæˆé”€å”®å•æ¼”ç¤º
        document.getElementById('generateInvoice').addEventListener('click', function() {
            const customer = document.getElementById('customerSelect').value;
            const model = document.getElementById('modelSelect').value;
            const variant = document.getElementById('variantSelect').value;
            const quantity = document.getElementById('quantity').value;
            
            if (!customer) {
                alert('è¯·é€‰æ‹©å®¢æˆ·ï¼');
                return;
            }
            if (!model) {
                alert('è¯·é€‰æ‹©äº§å“å‹å·ï¼');
                return;
            }
            if (!variant) {
                alert('è¯·é€‰æ‹©é¢œè‰²è§„æ ¼ï¼');
                return;
            }
            if (!quantity || quantity < 1) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°é‡ï¼');
                return;
            }
            
            const customerName = document.getElementById('customerSelect').options[document.getElementById('customerSelect').selectedIndex].text;
            const modelName = document.getElementById('modelSelect').options[document.getElementById('modelSelect').selectedIndex].text;
            const variantColor = document.getElementById('variantSelect').options[document.getElementById('variantSelect').selectedIndex].text.split(' - ')[0];
            const price = document.getElementById('priceDisplay').value;
            
            alert(`é”€å”®å•ç”Ÿæˆæ¼”ç¤ºï¼š\nå®¢æˆ·ï¼š${customerName}\näº§å“ï¼š${modelName}\né¢œè‰²ï¼š${variantColor}\næ•°é‡ï¼š${quantity}\n${price}\n\næ­£å¼ç‰ˆå°†ç”Ÿæˆå›¾ç‰‡å¹¶ä¿å­˜è®°å½•ã€‚`);
        });

        // äº§å“å‹å·åˆ†ç»„å±•å¼€/æ”¶èµ·
        document.querySelectorAll('.model-header').forEach(header => {
            header.addEventListener('click', function() {
                const variants = this.nextElementSibling;
                const icon = this.querySelector('span:last-child');
                
                if (variants.style.display === 'none') {
                    variants.style.display = 'block';
                    icon.textContent = 'â–¶';
                } else {
                    variants.style.display = 'none';
                    icon.textContent = 'â–¼';
                }
            });
        });

        // æ·»åŠ é¢œè‰²è§„æ ¼
        document.getElementById('addColorBtn').addEventListener('click', function() {
            const colorVariants = document.getElementById('colorVariants');
            const newVariant = document.createElement('div');
            newVariant.className = 'color-variant-item';
            newVariant.innerHTML = `
                <div style="display: grid; grid-template-columns: 2fr 1fr 1fr auto; gap: 10px; align-items: end;">
                    <div>
                        <label>é¢œè‰²åç§°</label>
                        <input type="text" placeholder="ä¾‹å¦‚: ç™½æ°´é“¶" style="margin-top: 5px;">
                    </div>
                    <div>
                        <label>ä»·æ ¼(å…ƒ)</label>
                        <input type="number" value="0" style="margin-top: 5px;">
                    </div>
                    <div>
                        <label>åº“å­˜</label>
                        <input type="number" value="0" style="margin-top: 5px;">
                    </div>
                    <div>
                        <label>&nbsp;</label>
                        <button class="danger remove-color" style="width: auto; padding: 10px; margin-top: 5px;">åˆ é™¤</button>
                    </div>
                </div>
            `;
            colorVariants.appendChild(newVariant);
            
            // ä¸ºæ–°åˆ é™¤æŒ‰é’®æ·»åŠ äº‹ä»¶
            newVariant.querySelector('.remove-color').addEventListener('click', function() {
                if (document.querySelectorAll('.color-variant-item').length > 1) {
                    newVariant.remove();
                } else {
                    alert('è‡³å°‘éœ€è¦ä¿ç•™ä¸€ä¸ªé¢œè‰²è§„æ ¼');
                }
            });
        });

        // åˆå§‹åˆ é™¤æŒ‰é’®äº‹ä»¶
        document.querySelector('.remove-color').addEventListener('click', function() {
            if (document.querySelectorAll('.color-variant-item').length > 1) {
                this.closest('.color-variant-item').remove();
            } else {
                alert('è‡³å°‘éœ€è¦ä¿ç•™ä¸€ä¸ªé¢œè‰²è§„æ ¼');
            }
        });

        // ä¿å­˜äº§å“æ¼”ç¤º
        document.getElementById('saveProductBtn').addEventListener('click', function() {
            const modelName = document.getElementById('newModelName').value;
            if (!modelName) {
                alert('è¯·è¾“å…¥äº§å“å‹å·ï¼');
                return;
            }
            
            const colorVariants = [];
            document.querySelectorAll('.color-variant-item').forEach(item => {
                const colorInput = item.querySelector('input[type="text"]');
                const priceInput = item.querySelector('input[type="number"]:first-of-type');
                const stockInput = item.querySelector('input[type="number"]:last-of-type');
                
                if (colorInput.value) {
                    colorVariants.push({
                        color: colorInput.value,
                        price: priceInput.value,
                        stock: stockInput.value
                    });
                }
            });
            
            if (colorVariants.length === 0) {
                alert('è¯·è‡³å°‘å¡«å†™ä¸€ä¸ªé¢œè‰²è§„æ ¼ï¼');
                return;
            }
            
            alert(`äº§å“ä¿å­˜æ¼”ç¤ºï¼š\nå‹å·ï¼š${modelName}\né¢œè‰²è§„æ ¼ï¼š${JSON.stringify(colorVariants)}\n\næ­£å¼ç‰ˆå°†ä¿å­˜åˆ°æ•°æ®åº“ã€‚`);
        });
    </script>
</body>
</html>